<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><HTML><HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html;CHARSET=SHIFT_JIS" ><TITLE>青空文庫を越えた利用（番外）</TITLE><style type="text/css"><!--body { margin-left: 5%; margin-right: 5%; font-size: smaller;}.left { float:left; width:50%;}.right { float:right; width:50%;}.float-clear { clear:both;}--></style></HEAD><BODY><H2>青空文庫をこえた利用（番外）</H2><HR><A name="end_annotation"></A><H3>本文終わり</H3>青空文庫の XHTML 版では、作品本文を main_text とし、ファイル末の記載事項を、bibliografical_information とタグ付けしています。<BR><BR>テキスト版を変換するプログラムは、ここで本文が終わり、ここから記載事項が始まるという区切りの目安として、必ず記載事項の始めにくるはずの「底本：」という文字列を利用しています。<BR><BLOCKQUOTE>底本：「日本の名随筆　別巻31　留学」作品社<BR>　　　1993（平成5）年9月25日第1刷発行<BR>底本の親本：「斎藤茂吉全集　第八巻」岩波書店<BR>　　　1952（昭和27）年6月発行<BR>入力：門田裕志<BR>校正：仙酔ゑびす<BR>2010年5月30日作成<BR>青空文庫作成ファイル：<BR>このファイルは、インターネットの図書館、青空文庫（http://www.aozora.gr.jp/）で作られました。入力、校正、制作にあたったのは、ボランティアの皆さんです。<BR></BLOCKQUOTE>この「底本：」がない場合、変換プログラムはファイル末の記載事項も、main_text に含めます。<BR><BR>青空文庫外のファイルでは、「底本：」がないことが予想されます。<BR><BR>そこで「底本：」のないファイルで、本文の終了を示す注記として、<FONT color="Blue" >［＃本文終わり］</FONT>を設けました。<BR><BR><FONT color="Blue" >［＃本文終わり］</FONT>以降の記載事項を、変換プログラムは after_text とタグ付けします。<BR><BR><FONT color="Red" >※記入例の下に、テキスト版をスクリプトで変換して得た、XHTML 版のタグを示します。</FONT><BR><BLOCKQUOTE>　印刷本は国家を作った。インターネットの電子本は、その境を一瞬に越える。とすれば、生まれつつあるのは、地球規模の枠組みで新しい共通の価値を見いだすための触媒ではないだろうか。私たちが築きつつある新しい文書交換の枠組みの彼方に、私は一つを目指す世界の夢を見る。<BR><BR><BR><BR><FONT color="Blue" >［＃本文終わり］</FONT><BR>入力：富田倫生<BR>校正：富田倫生<BR>1997年12月6日公開<BR>2010年3月26日修正<BR><BR><FONT color="Gray" >　印刷本は国家を作った。インターネットの電子本は、その境を一瞬に越える。とすれば、生まれつつあるのは、地球規模の枠組みで新しい共通の価値を見いだすための触媒ではないだろうか。私たちが築きつつある新しい文書交換の枠組みの彼方に、私は一つを目指す世界の夢を見る。&lt;br /&gt;<BR>&lt;br /&gt;<BR>&lt;br /&gt;<BR>&lt;br /&gt;<BR>&lt;/div&gt;<BR>&lt;div class="after_text"&gt;<BR>&lt;hr /&gt;<BR>&lt;br /&gt;<BR>入力：富田倫生&lt;br /&gt;<BR>校正：富田倫生&lt;br /&gt;<BR>1997年12月6日公開&lt;br /&gt;<BR>2010年3月26日修正&lt;br /&gt;<BR>&lt;br /&gt;<BR>&lt;br /&gt;<BR>&lt;/div&gt;&lt;div class="notation_notes"&gt;<BR>&lt;hr /&gt;<BR>&lt;br /&gt;<BR>●表記について&lt;br /&gt;<BR>&lt;ul&gt;<BR>	&lt;li&gt;このファイルは W3C 勧告 XHTML1.1 にそった形式で作成されています。&lt;/li&gt;<BR>&lt;/ul&gt;<BR>&lt;/div&gt;<BR>&lt;div id="card"&gt;<BR>&lt;hr /&gt;<BR>&lt;br /&gt;<BR>&lt;a href="JavaScript:goLibCard();" id="goAZLibCard"&gt;●図書カード&lt;/a&gt;&lt;script type="text/javascript" src="../../contents.js"&gt;&lt;/script&gt;<BR>&lt;script type="text/javascript" src="../../golibcard.js"&gt;&lt;/script&gt;<BR>&lt;/div&gt;&lt;/body&gt;<BR>&lt;/html&gt;<BR></FONT></BLOCKQUOTE><A name="unavailable_character"></A><H3>青空文庫ファイルで使えない文字 </H3><A name="special_character"></A><H4>ルビ記号など、特別な役割を与えられた文字</H4>青空文庫では、ルビ用の「《》」など、いくつかの記号に特別の役割を与えています。<BR>テキストを XHTML に変換するスクリプトや、テキスト版の表示ソフトの多くには、それらの特別な意味を解釈する機能が与えられています。<BR><BR>そのため、「《》」本来の、二重山括弧として使おうとすると、期待しない処理結果を生じることがあります。<BR><BR>例えば<BR><BLOCKQUOTE>研究されたので《花がたみ》という絵には<BR></BLOCKQUOTE>という一節を、 XHTML 変換スクリプトで処理すると、「されたので」にルビの「花がたみ」を付ける形でタグ付けされてしまいます。<BR><BLOCKQUOTE><FONT color="Gray" >研究&lt;ruby&gt;&lt;rb&gt;されたので&lt;/rb&gt;&lt;rp&gt;（&lt;/rp&gt;&lt;rt&gt;花がたみ&lt;/rt&gt;&lt;rp&gt;）&lt;/rp&gt;&lt;/ruby&gt;という絵には<BR></FONT></BLOCKQUOTE>こうした事態を避けるために、底本に「《》」が使われている際、青空文庫の入力では「≪≫ 」などの似通った記号に置き換え、ファイル末に次のように注記しています。<BR><BLOCKQUOTE>※底本の二重山括弧は、ルビ記号と重複するため、学術記号の「≪」（非常に小さい、2-67）と「≫」（非常に大きい、2-68）に代えて入力しました。<BR></BLOCKQUOTE>問題を起こす文字は、似通った他のものに置き換えるという方針は、青空文庫の入力では、今後も維持します。<BR><BR>ただし、青空文庫の書式が、簡易電子出版のタグ体系として、青空文庫を越えて利用される可能性を踏まえると、これらの使えない文字への対応策を、<strong class="SESAME_DOT">誰かが</strong>提案する必要があるのではないかと考えました。<BR><BR>そこで、問題を起こす可能性のある記号の代替表現を、ここで提案します。<BR><A name="daitai"></A><H4>外字注記形式による代替表現</H4>問題を起こす可能性のある以下の記号の代替表現として、外字注記形式を適用した次の形を提唱します。<BR><BLOCKQUOTE>《　→　<FONT color="Blue" >※［＃始め二重山括弧、1-1-52］</FONT><BR>》　→　<FONT color="Blue" >※［＃終わり二重山括弧、1-1-53］</FONT><BR>［　→　<FONT color="Blue" >※［＃始め角括弧、1-1-46］</FONT><BR>］　→　<FONT color="Blue" >※［＃終わり角括弧、1-1-47］</FONT><BR>〔　→　<FONT color="Blue" >※［＃始めきっこう（亀甲）括弧、1-1-44］</FONT><BR>〕　→　<FONT color="Blue" >※［＃終わりきっこう（亀甲）括弧、1-1-45］</FONT><BR>｜　→　<FONT color="Blue" >※［＃縦線、1-1-35］</FONT><BR>＃　→　<FONT color="Blue" >※［＃井げた、1-1-84］</FONT><BR>※　→　<FONT color="Blue" >※［＃米印、1-2-8］</FONT><BR></BLOCKQUOTE>名称は、JIS X 0208 規格票の「日本語通用名称」、コードポイントは、面-区-点の形で示します。<BR><BR>青空文庫の XHTML 変換スクリプトは、外字注記形式で表現された JIS X 0208 の文字を、外字タグに変換するようにしてあります。<BR><BLOCKQUOTE><FONT color="Gray" >&lt;img src="../../../gaiji/1-01/1-01-52.png" alt="※(始め二重山括弧、1-1-52)" class="gaiji" /&gt;&lt;br /&gt;<BR>&lt;img src="../../../gaiji/1-01/1-01-53.png" alt="※(終わり二重山括弧、1-1-53)" class="gaiji" /&gt;&lt;br /&gt;<BR>&lt;img src="../../../gaiji/1-01/1-01-46.png" alt="※(始め角括弧、1-1-46)" class="gaiji" /&gt;&lt;br /&gt;<BR>&lt;img src="../../../gaiji/1-01/1-01-47.png" alt="※(終わり角括弧、1-1-47)" class="gaiji" /&gt;&lt;br /&gt;<BR>&lt;img src="../../../gaiji/1-01/1-01-44.png" alt="※(始めきっこう（亀甲）括弧、1-1-44)" class="gaiji" /&gt;&lt;br /&gt;<BR>&lt;img src="../../../gaiji/1-01/1-01-45.png" alt="※(終わりきっこう（亀甲）括弧、1-1-45)" class="gaiji" /&gt;&lt;br /&gt;<BR>&lt;img src="../../../gaiji/1-01/1-01-35.png" alt="※(縦線、1-1-35)" class="gaiji" /&gt;&lt;br /&gt;<BR>&lt;img src="../../../gaiji/1-01/1-01-84.png" alt="※(井げた、1-1-84)" class="gaiji" /&gt;&lt;br /&gt;<BR>&lt;img src="../../../gaiji/1-02/1-02-08.png" alt="※(米印、1-2-8)" class="gaiji" /&gt;&lt;br /&gt;<BR></FONT></BLOCKQUOTE>その外字画像を、ブラウザーに表示させるためには、グリフを用意しておく必要があります。<BR><BR>上記の代替表現は、青空文庫の作業では今後も用いることはなく、公開サイトで JIS X 0208 の文字のグリフを用意する予定はありません。<BR><BR>ただし、一般公開する変換スクリプトのページ（「<A  href="http://kumihan.aozora.gr.jp/" TARGET="_TOP">組み版案内</A>」）では、上記の９文字のグリフを、所定のディレクトリー（gaijiの面-区フォールダー内）に置いて、表示できるようにしておきます。<BR><BR>また、「<A  href="http://www.aozora.gr.jp/guide/nyuumon.html#riyou" TARGET="_TOP">青空文庫早わかり</A>」から引き落とせる外字画像ファイル「gaiji」にも、９文字のグリフを加えておきます。<BR><BR><FONT size="-1" ><A  href="index.html">目次にもどる。</A></FONT><BR></BODY></HTML>